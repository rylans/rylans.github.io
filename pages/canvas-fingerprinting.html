<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="chrome=1"><meta name="viewport" content="width=device-width"><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Chivo:900"><link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen"><link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32"><!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><title>Canvas Fingerprinting / Rylan</title></head><body><div id="container"><div class="inner"><header><h1>Canvas Fingerprinting</h1><h2>User fingerprinting and tracking through the HTML5 canvas element</h2><h6>2015-01-15 &mdash; Rylan Santinon</h6></header><hr class="hrpng"><section id="main_content"><h3><a name="browser-tracking" class="anchor" href="#browser-tracking"><span class="octicon octicon-link"></span></a>Browser Tracking</h3><p>Recent studies have been showing that the web browser can be used to fingerprint internet users.<sup>[1]</sup> There are several fingerprinting mechanisms already in use including: Flash cookies, evercookies and canvas fingerprinting as well as some novel methods including using the rendering engine, clock skew and webGL.<sup>[2]</sup> I'm going to briefly go over canvas fingerprinting and how to mitigate this attack.</p><h3><a name="canvas" class="anchor" href="#canvas"><span class="octicon octicon-link"></span></a>Canvas</h3><p>The canvas can "be used for rendering graphs, game graphics, art, or other visual images on the fly."<sup>[3]</sup> This element is useful for producing visual effects but it also potentially leaks information about the browser, operating system and rendering engine. At the time of writing, the '2d' context is the most widely-supported but it is also possible to render webGL in the canvas using a different context.</p><h3><a name="fingerprint" class="anchor" href="#fingerprint"><span class="octicon octicon-link"></span></a>Fingerprinting</h3><p>The theory behind fingerprinting with the canvas is that different systems will render text and graphics differently and therefore produce different output. Mowery and Schacham remark that "rendering a single sentence in a widely distributed system font [produces] surprising variation."<sup>[1]</sup></p><p>A canvas fingerprint can be produced as follows:</p><ul><li>Create a canvas element</li><li>Get a 2d context</li><li>Write text to the context</li><li>call toDataURL() to get the png data</li><li>Hash the data</li></ul><p>This returns identical results for the same system and gives different values depending on the software, hardware and installed fonts.</p><h3><a name="blocking" class="anchor" href="#blocking"><span class="octicon octicon-link"></span></a>Blocking this Attack</h3><p>This attack can be mitigated by downloading a browser extension that blocks calls toDataURL() but then that would give trackers another bit of information about you. Another way of dealing with it is just blocking javascript altogether but that seems a little bit excessive.</p><p>There are some browser extensions that block the canvas element. For Firefox there is CanvasBlocker and for Chrome there is CanvasFingerprintBlock. Adblock Plus claims to be able to stop canvas tracking.<sup>[4]</sup></p><h3><a name="canvasprintjs" class="anchor" href="#canvasprintjs"><span class="octicon octicon-link"></span></a>canvasprint.js</h3><p>I wrote some example code that exhibits this tracking mechanism: <a href="https://www.github.com/rylans/canvasprintjs/">canvasprint.js</a></p><hr class="hrpng"><h5>References</h5><ol class="refs"><li>Mowery, Keaton and Hovav Shacham. "Pixel Perfect: Fingerprinting Canvas in HTML5"</li><li>Acar et al. "The Web Never Forgets: Persistent Tracking Mechanisms in the Wild"</li><li><a href="http://www.w3.org/TR/html5/">http://www.w3.org/TR/html5/</a></li><li><a href="http://bgr.com/2014/07/23/how-to-disable-canvas-fingerprinting/">http://bgr.com/2014/07/23/how-to-disable-canvas-fingerprinting/</a></li></ol></section><footer class="hrpng"><a href="../index.html">&lt; Back</a></footer></div></div></body></html>